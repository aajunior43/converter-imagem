<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Conversor de Imagens em Massa para PNG</title>
    <!-- Adicione seu CSS aqui -->
</head>
<body>
    <h1>Conversor de Imagens em Massa para PNG</h1>
    <input type="file" id="imageFiles" name="imageFiles" accept="image/*" multiple>
    <button id="downloadAllButton" style="display:none;">Baixar Todas as Imagens PNG</button>
    <div id="imageOutput"></div>
    <script>
        document.getElementById('imageFiles').addEventListener('change', function(e) {
            var files = e.target.files;
            var imageOutput = document.getElementById('imageOutput');
            imageOutput.innerHTML = ''; // Limpa imagens anteriores

            for (var i = 0; i < files.length; i++) {
                processImage(files[i]);
            }

            document.getElementById('downloadAllButton').style.display = 'block';
        });

        function processImage(file) {
            var reader = new FileReader();
            reader.onload = function(e) {
                var img = new Image();
                img.onload = function() {
                    var canvas = document.createElement('canvas');
                    var ctx = canvas.getContext('2d');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    var pngUrl = canvas.toDataURL('image/png');
                    
                    // Criar um elemento de link para download
                    var downloadLink = document.createElement('a');
                    downloadLink.href = pngUrl;
                    downloadLink.download = file.name.replace(/\.[^/.]+$/, "") + ".png";
                    downloadLink.innerText = 'Baixar ' + file.name;
                    document.getElementById('imageOutput').appendChild(downloadLink);
                }
                img.src = e.target.result;
            }
            reader.readAsDataURL(file);
        }
    </script>
</body>
</html>
